/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_setId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/setId.js */ \"./src/js/modules/setId.js\");\n/* harmony import */ var _modules_header_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/header.js */ \"./src/js/modules/header.js\");\n/* harmony import */ var _modules_sidebar_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/sidebar.js */ \"./src/js/modules/sidebar.js\");\n/* harmony import */ var _treeItems_dashboardView_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./treeItems/dashboardView.js */ \"./src/js/treeItems/dashboardView.js\");\n/* harmony import */ var _treeItems_formTemplate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./treeItems/formTemplate.js */ \"./src/js/treeItems/formTemplate.js\");\n/* harmony import */ var _treeItems_tableTemplate_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./treeItems/tableTemplate.js */ \"./src/js/treeItems/tableTemplate.js\");\n/* harmony import */ var _modules_editTableForm_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/editTableForm.js */ \"./src/js/modules/editTableForm.js\");\n/* harmony import */ var _modules_viewPropertyTable_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/viewPropertyTable.js */ \"./src/js/modules/viewPropertyTable.js\");\n//import {formLogin} from \"./modules/login.js\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction adaptiveResizers (){\r\n    //console.log($$(\"sideMenu\").getParentView().config.id); \r\n\r\n}\r\n\r\n\r\n\r\nwebix.ready(function(){\r\n    webix.protoUI({\r\n        name:\"edittree\"\r\n    }, webix.EditAbility, webix.ui.tree);\r\n\r\n\r\n    // webix.ui({ \r\n    //     id:\"popupTable\", \r\n    //     view:\"popup\", \r\n    //     height:250,\r\n    //     width:300,\r\n    //     padding:15,\r\n    //     scroll:true,\r\n    //     position:\"center\",\r\n    //     body:{\r\n    //         view:\"property\",\r\n    //         id:\"propTable\",\r\n    //         editable:false,\r\n    //         elements:[]\r\n    // }});\r\n\r\n\r\n\r\n    webix.ui({\r\n        view:\"scrollview\",\r\n                type:\"clean\",\r\n                id:\"layout\", \r\n                scroll:\"y\", \r\n                body:{\r\n                    cells: [ \r\n                        // {id: \"userAuth\", \r\n                        // cols: [\r\n                        //     {},\r\n                        //     {   rows:[\r\n                        //             {},\r\n                        //             formLogin,\r\n                        //             {}\r\n                        //         ]},\r\n                        //     {}\r\n                        // ]},\r\n                        {id:\"mainLayout\", rows: [\r\n                            \r\n                            {   id:\"adaptive\",\r\n                                rows:[]\r\n                            },\r\n                            \r\n                            {   id:\"mainContent\",\r\n                                responsive:\"adaptive\", \r\n                                                                \r\n                                cols:[\r\n                                    {id:\"sideMenu\",width:250,css:\"webix_side-container\",rows:[ \r\n                                        (0,_modules_sidebar_js__WEBPACK_IMPORTED_MODULE_2__.headerSidebar)(),\r\n                                        (0,_modules_sidebar_js__WEBPACK_IMPORTED_MODULE_2__.treeSidebar)(),\r\n                                    ]},\r\n                                    \r\n                                    {id:\"sideMenuResizer\",view:\"resizer\",css:\"webix_resizer-hide\",},\r\n                                    \r\n                                    \r\n                                    {rows:[\r\n                                        _modules_header_js__WEBPACK_IMPORTED_MODULE_1__.header(),\r\n                                        \r\n                                        \r\n                                        {id:\"webix__none-content\"},\r\n                                        \r\n\r\n                                        {   id:\"adaptive-tableEdit\",\r\n                                        rows:[ ]\r\n                                         },\r\n                                         \r\n                                        {id:\"tables\", hidden:true, \r\n   \r\n                                            cols:[\r\n                                                \r\n                                               {view:\"scrollview\", body: { view:\"flexlayout\", cols:[\r\n                                                \r\n                                               {   id:\"tableContainer\",\r\n                                                    rows:[\r\n                                                        (0,_treeItems_tableTemplate_js__WEBPACK_IMPORTED_MODULE_5__.tableToolbar)(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.pagerId, _modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.searchId, _modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.exportBtn, _modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.findElementsId, _modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId ),\r\n                                                        { view:\"resizer\",class:\"webix_resizers\",},\r\n                                                        (0,_treeItems_tableTemplate_js__WEBPACK_IMPORTED_MODULE_5__.table) (_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId, _modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.pagerId, _treeItems_tableTemplate_js__WEBPACK_IMPORTED_MODULE_5__.onFuncTable)\r\n                                                    ]\r\n                                                },\r\n                                            \r\n                                                {  view:\"resizer\",class:\"webix_resizers\",},\r\n                                                \r\n                                                _modules_editTableForm_js__WEBPACK_IMPORTED_MODULE_6__.editTableBar,]\r\n                                            }\r\n                                            }\r\n\r\n                                            ]\r\n                                        \r\n                                        },\r\n\r\n                                        {id:\"dashboards\", hidden:true, scroll:\"auto\",\r\n                                          rows: (0,_treeItems_dashboardView_js__WEBPACK_IMPORTED_MODULE_3__.dashboardLayout)()\r\n                                        } ,\r\n\r\n                                        {id:\"forms\", css:\"webix_tableView\",hidden:true, \r\n                                         \r\n                                                rows:[\r\n                                                    (0,_treeItems_tableTemplate_js__WEBPACK_IMPORTED_MODULE_5__.tableToolbar)(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.pagerIdView, _modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.searchIdView, _modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.exportBtnView, _modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.findElementsIdView, _modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableIdView, true ),\r\n                                                    { view:\"resizer\",class:\"webix_resizers\",},\r\n                                                    \r\n                                                    {view:\"scrollview\", body:  \r\n                                                    \r\n                                                    {view:\"flexlayout\",cols:[\r\n                                                        (0,_treeItems_tableTemplate_js__WEBPACK_IMPORTED_MODULE_5__.table) (_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableIdView, _modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.pagerIdView, _treeItems_tableTemplate_js__WEBPACK_IMPORTED_MODULE_5__.onFuncTableView ),\r\n                                                        { view:\"resizer\",class:\"webix_resizers\",},\r\n                                                        (0,_modules_viewPropertyTable_js__WEBPACK_IMPORTED_MODULE_7__.propertyTemplate)(\"propTableView\")\r\n                                                    ]}}, \r\n                                                ],\r\n\r\n                                            \r\n                                        },\r\n                                    ]},\r\n\r\n\r\n\r\n                                ]\r\n                            },\r\n                \r\n                        ]}\r\n                    ],\r\n                },\r\n\r\n    });\r\n\r\n    window.addEventListener('resize', function(event) {\r\n \r\n        if ($$(\"tree\").isVisible()){\r\n            if(window.innerWidth >= 800){\r\n                $$(\"sideMenu\").config.width = 250;\r\n            }\r\n        } else {\r\n            if(window.innerWidth >= 800){\r\n                \r\n                if($$(\"sideMenuHidden\")){\r\n\r\n                } else {\r\n                    $$(\"sideMenu\").config.width = 55;\r\n                    $$(\"sideMenu\").addView({id:\"sideMenuHidden\"}, 3);\r\n                }\r\n\r\n            } else  if(window.innerWidth <= 600){\r\n                if($$(\"sideMenuHidden\")){\r\n                    $$(\"sideMenu\").removeView($$(\"sideMenuHidden\"));\r\n                } \r\n                if($$(\"sideMenuResizer\")){\r\n                    $$(\"sideMenuResizer\").hide(); \r\n                 }\r\n                \r\n            }\r\n        }\r\n\r\n\r\n    }, true);\r\n   \r\n    //Backbone.history.start();\r\n  \r\n    //webix.UIMananger.tabControl = true;\r\n    adaptiveResizers ();\r\n    webix.i18n.setLocale(\"ru-RU\");   \r\n   webix.i18n.parseFormat = \"%d.%m.%Y %H:%i:%s\";\r\n    webix.i18n.setLocale();\r\n});\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://webix/./src/js/app.js?");

/***/ }),

/***/ "./src/js/modules/editTableForm.js":
/*!*****************************************!*\
  !*** ./src/js/modules/editTableForm.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"editTableBar\": () => (/* binding */ editTableBar),\n/* harmony export */   \"notify\": () => (/* binding */ notify),\n/* harmony export */   \"createEditFields\": () => (/* binding */ createEditFields),\n/* harmony export */   \"popupExec\": () => (/* binding */ popupExec),\n/* harmony export */   \"defaultStateForm\": () => (/* binding */ defaultStateForm),\n/* harmony export */   \"checkFormSaved\": () => (/* binding */ checkFormSaved),\n/* harmony export */   \"clearItem\": () => (/* binding */ clearItem)\n/* harmony export */ });\n/* harmony import */ var _setId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setId.js */ \"./src/js/modules/setId.js\");\n/* harmony import */ var _sidebar_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sidebar.js */ \"./src/js/modules/sidebar.js\");\n\r\n\r\n\r\n\r\n//--- bns\r\nfunction saveItem(){        \r\n\r\n    let itemData = $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).getValues();   \r\n    if($$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).validate() ){\r\n        if( itemData.id ) {\r\n            webix.ajax().put(\"/init/default/api/\"+_sidebar_js__WEBPACK_IMPORTED_MODULE_1__.itemTreeId+\"/\"+itemData.id, itemData, {\r\n                success:function(){\r\n                    console.log(\"success\");\r\n                    $$( _setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId ).updateItem(itemData.id, itemData);\r\n                    clearItem();\r\n                    notify (\"success\",\"Данные сохранены\");\r\n                    defaultStateForm ();\r\n                    $$(\"inputsTable\").hide();\r\n                    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId).clearSelection();\r\n                },\r\n                error:function(){\r\n                    notify (\"error\",\"Ошибка при сохранении данных\");\r\n                }\r\n            });\r\n        }    \r\n        else {\r\n            $$( _setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId ).add( itemData );\r\n            clearItem();\r\n            notify (\"success\",\"Данные добавлены\");\r\n        }    \r\n    } else {\r\n        notify (\"error\",\"Заполните пустые поля\");\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction addItem () {\r\n    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId).filter(false);\r\n    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId).hideOverlay(\"Ничего не найдено\");\r\n    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.searchId).setValue(\"\");\r\n    createEditFields();\r\n    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.delBtnId).disable();\r\n    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.saveBtnId).hide();\r\n    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.addBtnId).hide();\r\n    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.saveNewBtnId).show();\r\n}\r\n\r\n\r\n\r\nfunction saveNewItem (){\r\n   \r\n    if($$( _setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId ).validate() ) {\r\n        if($$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).isDirty()){\r\n            let newValues = $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).getValues();\r\n            newValues.id= $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId).count()+1;\r\n            console.log(newValues)\r\n            webix.ajax().post(\"/init/default/api/\"+_sidebar_js__WEBPACK_IMPORTED_MODULE_1__.itemTreeId, newValues,{\r\n                success:function( ){\r\n                    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId).add(newValues);\r\n                    clearItem();\r\n                    defaultStateForm ();\r\n                    $$(\"inputsTable\").hide();\r\n                    notify (\"success\",\"Данные успешно добавлены\");\r\n                },\r\n                error:function(){\r\n                    notify (\"error\",\"Ошибка при добавлении данных\");\r\n                }\r\n            });\r\n        }else {\r\n            notify (\"debug\",\"Форма пуста\");\r\n        }\r\n    } else {\r\n        notify (\"error\",\"Заполните пустые поля\");\r\n    }\r\n   \r\n}\r\n\r\n\r\nfunction removeItem() {\r\n    popupExec(\"Запись будет удалена\").then(\r\n        function(){\r\n            $$( _setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId ).remove($$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).getValues().id);\r\n            let formValues = $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).getValues();\r\n            webix.ajax().del(\"/init/default/api/\"+_sidebar_js__WEBPACK_IMPORTED_MODULE_1__.itemTreeId+\"/\"+formValues.id+\".json\", formValues,{\r\n                success:function(){\r\n                    console.log(formValues.id)\r\n                    //$$( tableId ).remove(formValues.id);\r\n                    clearItem();\r\n                    defaultStateForm ();\r\n                    // if ($$(saveBtnId)) {\r\n                    //     $$(saveBtnId).hide();\r\n                    //     $$(addBtnId).show();\r\n                    // }\r\n                    $$(\"inputsTable\").hide();\r\n                    notify (\"success\",\"Данные успешно удалены\");\r\n                },\r\n                error:function(){\r\n                    notify (\"error\",\"Ошибка при удалении записи\");\r\n                }\r\n            });\r\n            \r\n    });\r\n    \r\n    \r\n}\r\n\r\n\r\n\r\nfunction clearForm(){\r\n    \r\n\r\n    if ($$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.saveBtnId).isVisible()){\r\n        $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).setDirty(true);\r\n    } \r\n    \r\n    if($$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).isDirty()){\r\n        popupExec(\"Форма будет очищена\").then(\r\n            function(){\r\n                clearItem();\r\n                $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId).clearSelection();\r\n                defaultStateForm ();\r\n                $$(\"inputsTable\").hide();\r\n                notify (\"success\",\"Форма очищена\");\r\n        });\r\n    } else {\r\n        notify (\"debug\",\"Форма пуста\");\r\n    }\r\n}\r\n\r\n//--- bns\r\n\r\n\r\n\r\n\r\n//--- components\r\n\r\nfunction createEditFields () {\r\n\r\n    let columnsData = $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId).getColumns();\r\n    //console.log(columnsData)\r\n\r\n    //let idSelect;\r\n    if(Object.keys($$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).elements).length==0  ){\r\n        let inputsArray = [];\r\n        columnsData.forEach((el,i) => {\r\n            //console.log(inputsArray)\r\n            if (el.type == \"datetime\"){\r\n                inputsArray.push({   \r\n                    view: \"datepicker\",\r\n                    format: webix.Date.strToDate(\"%d.%m.%Y\"),\r\n                    name:el.id, \r\n                    label:el.label, \r\n                    placeholder:\"дд.мм.гг\", \r\n                    timepicker: true,\r\n                    labelPosition:\"top\"\r\n                });\r\n            } \r\n            \r\n\r\n           else if (el.type.includes(\"reference\")) {\r\n            let findTableId = el.type.slice(10);\r\n            let optionData = new webix.DataCollection({url:{\r\n                $proxy:true,\r\n                load: function(){\r\n                    return ( webix.ajax().get(\"/init/default/api/\"+findTableId).then(function (data) {\r\n                                data = data.json().content;\r\n                                let dataArray=[];\r\n                                let keyArray;\r\n                                data.forEach((el,i) =>{\r\n                                    \r\n                                    let l = 0;\r\n                                    console.log(\"1213\",Object.keys(el)[1])\r\n                                    while (l <= Object.values(el).length) {\r\n                                        \r\n                                        if (typeof Object.values(el)[l] == \"string\"){\r\n                                            keyArray = Object.keys(el)[l];\r\n                                            break;\r\n                                        } \r\n                                        l++;\r\n                                    }\r\n\r\n                                    if (el[keyArray] == undefined){\r\n                                        console.log(\"undef\")\r\n\r\n                                        while (l <= Object.values(el).length) {\r\n                                            if (typeof Object.values(el)[1] == \"number\"){\r\n                                                keyArray = Object.keys(el)[1];\r\n                                                break;\r\n                                            }\r\n                                            l++;\r\n                                        }\r\n                                    }\r\n                                    dataArray.push({ \"id\":el.id, \"value\":el[keyArray]});\r\n                                    console.log(dataArray)   \r\n                                });\r\n                                return dataArray;\r\n                            })\r\n                        );\r\n                    \r\n                }\r\n            }});\r\n                //idSelect= i+1;\r\n               \r\n                inputsArray.push(\r\n                    {   view:\"combo\",\r\n                        placeholder:\"Введите текст\",  \r\n                        label:el.label, \r\n                        name:el.id, \r\n                        labelPosition:\"top\",  \r\n                        options:{\r\n                           data:optionData\r\n                      }\r\n                    }\r\n\r\n                );\r\n            \r\n            } \r\n            else{\r\n                inputsArray.push(\r\n                    {\r\n                    view:\"text\", \r\n                    name:el.id, \r\n                    label:el.label, \r\n                    labelPosition:\"top\"\r\n                    }\r\n                );\r\n            }\r\n        });\r\n\r\n        let inpObj = {margin:8,id:\"inputsTable\", rows:inputsArray};\r\n        $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.cleanBtnId).enable(); \r\n        $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.delBtnId).enable();\r\n        console.log(inpObj,\"edit\")\r\n        return ($$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).addView( inpObj, 1));\r\n        \r\n    } else {\r\n        $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.cleanBtnId).enable(); \r\n        $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.delBtnId).enable();\r\n        $$(\"inputsTable\").show();\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction clearItem(){\r\n    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).clear();\r\n    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).clearValidation();\r\n    defaultStateForm ();\r\n}\r\n\r\nfunction defaultStateForm () {\r\n    if ($$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.saveNewBtnId).isVisible()) {\r\n        $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.saveNewBtnId).hide();\r\n    } else if ($$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.saveBtnId).isVisible()){\r\n        $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.saveBtnId).hide();\r\n    }\r\n    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.addBtnId).show();\r\n    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.delBtnId).disable();\r\n    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.cleanBtnId).disable();\r\n}\r\n\r\nfunction popupExec (titleText) { \r\n    return webix.confirm({\r\n        width:300,\r\n        ok: 'Да',\r\n        cancel: 'Отмена',\r\n        title:titleText,\r\n        text:\"Вы уверены, что хотите продолжить?\"\r\n    });\r\n}\r\n\r\nfunction notify (typeNotify,textMessage) {\r\n    webix.message.position = \"bottom\";\r\n    webix.message({type:typeNotify,  text:textMessage});\r\n}\r\n\r\n\r\nfunction checkFormSaved() {\r\n    return new webix.promise(function(resolve){\r\n      webix.confirm(\r\n        {\r\n          title: 'Данные не сохранены',\r\n          ok: 'Да',\r\n          width:300,\r\n          cancel: 'Отмена',\r\n          text: 'Вы уверены, что хотите продолжить?',\r\n          callback: function (result) {\r\n            if (result) {\r\n              resolve(true);\r\n            } else {\r\n              resolve(false);\r\n            }\r\n          }\r\n        }\r\n      );\r\n    });\r\n}\r\n\r\n//--- components\r\n\r\n\r\n\r\n\r\n\r\nlet editTableBar = {\r\n    view:\"form\", \r\n    id:_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId,\r\n    css:\"webix_form-edit\",\r\n    container:\"webix__form-container\", \r\n    minHeight:350,\r\n    minWidth:210,\r\n    width: 320,\r\n    scroll:true,\r\n    elements:[\r\n\r\n        {id:\"form-adaptive\",margin:5,rows:[{margin:5, rows:[\r\n           \r\n            \r\n            {responsive:\"form-adaptive\", margin:5, \r\n                //borderless:true,\r\n      \r\n                cols: [\r\n                    {   view:\"button\",\r\n                        \r\n                        id:_setId_js__WEBPACK_IMPORTED_MODULE_0__.cleanBtnId,\r\n                        height:48,\r\n                        minWidth:90, \r\n                        disabled:true,\r\n                        hotkey: \"esc\",\r\n                        value:\"Очистить форму\", click:clearForm},\r\n                        \r\n                    {   view:\"button\",\r\n\r\n                        id:_setId_js__WEBPACK_IMPORTED_MODULE_0__.delBtnId,\r\n                        disabled:true,\r\n                        height:48,\r\n                        minWidth:90,\r\n                        width:100,\r\n                        hotkey: \"shift+esc\",\r\n                        css:\"webix_danger\", \r\n                        type:\"icon\", \r\n                        icon:\"wxi-trash\", \r\n                        click:removeItem,\r\n                        on: {\r\n                            onAfterRender: function () {\r\n                                this.getInputNode().setAttribute(\"title\",\"Удалить запись из таблицы\");\r\n                            }\r\n                        } \r\n                    },\r\n                ]\r\n            },\r\n            \r\n        ]},\r\n\r\n       {margin:10, rows:[ { \r\n            view:\"button\", \r\n            id:_setId_js__WEBPACK_IMPORTED_MODULE_0__.saveBtnId,\r\n            hidden:true, \r\n            value:\"Сохранить\", \r\n            height:48, \r\n            css:\"webix_primary\", \r\n            click:saveItem,\r\n            hotkey: \"enter\" \r\n        },\r\n        { \r\n            view:\"button\", \r\n            id:_setId_js__WEBPACK_IMPORTED_MODULE_0__.addBtnId,\r\n            value:\"Добавить новую запись\", \r\n            height:48,\r\n            disabled:true,\r\n            hotkey: \"shift\",\r\n            css:\"webix_primary\", \r\n            click:addItem\r\n        },\r\n        { \r\n            view:\"button\", \r\n            id:_setId_js__WEBPACK_IMPORTED_MODULE_0__.saveNewBtnId,\r\n            value:\"Сохранить новую запись\",\r\n            hidden:true,  \r\n            height:48,\r\n            hotkey: \"enter\" ,\r\n            css:\"webix_primary\", \r\n            click:saveNewItem\r\n        },\r\n\r\n        ]},\r\n        \r\n    ]},\r\n    {}\r\n    \r\n    \r\n    ],\r\n    \r\n    rules:{\r\n        $all:webix.rules.isNotEmpty\r\n    },\r\n\r\n    on:{ onChange:function( newv,oldv) {\r\n       \r\n        \r\n        if (newv != oldv){\r\n        } \r\n        \r\n    }},\r\n    ready:function(){\r\n        this.validate();\r\n    },\r\n\r\n};\r\n\r\n    \r\n\r\n\n\n//# sourceURL=webpack://webix/./src/js/modules/editTableForm.js?");

/***/ }),

/***/ "./src/js/modules/header.js":
/*!**********************************!*\
  !*** ./src/js/modules/header.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"header\": () => (/* binding */ header)\n/* harmony export */ });\n//import {hideInterfaceElements} from './userLogin.js';\r\n\r\nfunction header() {\r\n    // function logoutClick () {\r\n    //     localStorage.setItem(\"authSuccess\", 0);\r\n    //     hideInterfaceElements ();\r\n    // }\r\n    \r\n    const header = {\r\n        view: \"toolbar\", \r\n        id: \"header\",\r\n        padding:10,\r\n        css:\"webix_header-style\",\r\n        //hidden:true, \r\n        elements: [\r\n            // {   view:\"label\",\r\n            //     label:\"<img src='/init/static/images/expalogo.png' style='height:30px; margin: 5px;'>\" \r\n            // },\r\n            {},\r\n            {   view:\"button\",  \r\n                type:\"icon\", \r\n                icon:\"wxi-file\",\r\n                css:\"webix_btn-import\", \r\n                label:\"Импорт\", \r\n                height:48,\r\n                width: 130,\r\n                on: {\r\n                    onAfterRender: function () {\r\n                        this.getInputNode().setAttribute(\"title\",\"Импорт файла с таблицами\");\r\n                    }\r\n                }  \r\n            },\r\n            {   view:\"button\", \r\n                label:\"Выйти\",\r\n                height:48, \r\n                width: 120,\r\n                on: {\r\n                    onAfterRender: function () {\r\n                        this.getInputNode().setAttribute(\"title\",\"Выйти из аккаунта\");\r\n                    }\r\n                } ,\r\n                click: function() {\r\n                    history.back();\r\n                }\r\n            }\r\n            \r\n        ]\r\n    };\r\n\r\n    return header;\r\n}\n\n//# sourceURL=webpack://webix/./src/js/modules/header.js?");

/***/ }),

/***/ "./src/js/modules/setId.js":
/*!*********************************!*\
  !*** ./src/js/modules/setId.js ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"tableId\": () => (/* binding */ tableId),\n/* harmony export */   \"pagerId\": () => (/* binding */ pagerId),\n/* harmony export */   \"searchId\": () => (/* binding */ searchId),\n/* harmony export */   \"findElementsId\": () => (/* binding */ findElementsId),\n/* harmony export */   \"exportBtn\": () => (/* binding */ exportBtn),\n/* harmony export */   \"tableIdView\": () => (/* binding */ tableIdView),\n/* harmony export */   \"pagerIdView\": () => (/* binding */ pagerIdView),\n/* harmony export */   \"searchIdView\": () => (/* binding */ searchIdView),\n/* harmony export */   \"findElementsIdView\": () => (/* binding */ findElementsIdView),\n/* harmony export */   \"exportBtnView\": () => (/* binding */ exportBtnView),\n/* harmony export */   \"editFormId\": () => (/* binding */ editFormId),\n/* harmony export */   \"saveBtnId\": () => (/* binding */ saveBtnId),\n/* harmony export */   \"addBtnId\": () => (/* binding */ addBtnId),\n/* harmony export */   \"delBtnId\": () => (/* binding */ delBtnId),\n/* harmony export */   \"cleanBtnId\": () => (/* binding */ cleanBtnId),\n/* harmony export */   \"saveNewBtnId\": () => (/* binding */ saveNewBtnId),\n/* harmony export */   \"formId\": () => (/* binding */ formId),\n/* harmony export */   \"formIdView\": () => (/* binding */ formIdView)\n/* harmony export */ });\n\r\nlet tableId = \"table\";\r\nlet tableIdView = \"table-view\";\r\n\r\n//tooldarTable elements\r\nlet pagerId = tableId+\"-pager\";\r\nlet searchId = tableId+\"-search\";\r\nlet findElementsId = tableId+\"-findElemets\";\r\nlet exportBtn = tableId+\"exportBtn\";\r\n\r\nlet pagerIdView = tableIdView+\"-pager\";\r\nlet searchIdView = tableIdView+\"-search\";\r\nlet findElementsIdView = tableIdView+\"-findElemets\";\r\nlet exportBtnView = tableIdView+\"exportBtn\";\r\n\r\n//editTable elements\r\nlet editFormId = tableId+\"-editForm\";\r\nlet saveBtnId = tableId+\"-saveBtn\";\r\nlet addBtnId = tableId+\"-addBtn\";\r\nlet delBtnId = tableId+\"-delBtnId\";\r\nlet cleanBtnId = tableId+\"-cleanBtn\";\r\nlet saveNewBtnId = tableId+\"-saveNewBtn\";\r\n\r\n//form elements\r\nlet formId = tableId+\"-form\";\r\nlet formIdView = tableIdView+\"-form\";\r\n\r\n\r\n\n\n//# sourceURL=webpack://webix/./src/js/modules/setId.js?");

/***/ }),

/***/ "./src/js/modules/sidebar.js":
/*!***********************************!*\
  !*** ./src/js/modules/sidebar.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"headerSidebar\": () => (/* binding */ headerSidebar),\n/* harmony export */   \"treeSidebar\": () => (/* binding */ treeSidebar),\n/* harmony export */   \"itemTreeId\": () => (/* binding */ itemTreeId),\n/* harmony export */   \"inpObj\": () => (/* binding */ inpObj),\n/* harmony export */   \"customInputs\": () => (/* binding */ customInputs),\n/* harmony export */   \"urlFieldAction\": () => (/* binding */ urlFieldAction)\n/* harmony export */ });\n/* harmony import */ var _setId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setId.js */ \"./src/js/modules/setId.js\");\n/* harmony import */ var _editTableForm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editTableForm.js */ \"./src/js/modules/editTableForm.js\");\n/* harmony import */ var _treeItems_dashboardView_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../treeItems/dashboardView.js */ \"./src/js/treeItems/dashboardView.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet itemTreeId = \"\";\r\nlet prevCountRows ;\r\nlet inpObj={};\r\nlet customInputs = [];\r\nlet urlFieldAction ;\r\nlet checkAction = false;\r\n\r\n\r\nfunction submitBtn (idElements, url, verb, rtype, idBtn=\"\"){\r\n    \r\n    let valuesArray = [];\r\n\r\n    if (verb==\"get\"){ \r\n\r\n        if(rtype==\"refresh\"){\r\n            idElements.forEach((el,i) => {\r\n                if (el.id.includes(\"customCombo\")){\r\n                    console.log(el);\r\n                    valuesArray.push(el.name+\"=\"+$$(el.id).getText());\r\n                } else if (el.id.includes(\"customInputs\")) {\r\n                    console.log(el)\r\n                    valuesArray.push(el.name+\"=\"+$$(el.id).getValue());\r\n                } else if (el.id.includes(\"customDatepicker\")) {\r\n                    console.log(el);\r\n                    valuesArray.push(el.name+\"=\"+$$(el.id).getValue());\r\n                }\r\n                \r\n            });\r\n            webix.ajax(url+\"?\"+valuesArray.join(\"&\")).then(function(data) {\r\n                console.log(data.json());\r\n                $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableIdView).clearAll();\r\n\r\n                data = data.json().content;\r\n                if (data.length !== 0){\r\n                    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableIdView).hideOverlay(\"Ничего не найдено\");\r\n                    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableIdView).parse(data);\r\n                } else {\r\n                    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableIdView).showOverlay(\"Ничего не найдено\");\r\n                }\r\n                prevCountRows = $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableIdView).count();\r\n                $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.findElementsIdView).setValues(prevCountRows.toString());\r\n            });\r\n\r\n        } else if (rtype==\"download\"){\r\n            webix.ajax().response(\"blob\").get(url, function(text, blob, xhr) {\r\n                webix.html.download(blob, \"table.docx\");\r\n            });\r\n        } else if (rtype==\"delete\") {\r\n\r\n        }\r\n\r\n    } \r\n    // else if (verb==\"post\") {\r\n    //     let uploadFile;\r\n    //     idElements.forEach((el,i) => {\r\n    //         if (el.id.includes(\"customUploader\")){\r\n    //             console.log(el);\r\n    //             uploadFile = $$(el.id).getValue();\r\n    //         } \r\n    //     });\r\n    //     webix.ajax().post(url,{uploadFile});\r\n    // }\r\n    \r\n}\r\n\r\n\r\n\r\nfunction getInfoTable (idCurrTable, idSearch, idsParam, idFindElem) {\r\n   \r\n    \r\n    itemTreeId = idsParam;\r\n    let titem = $$(\"tree\").getItem(idsParam); //id,value tree item\r\n   \r\n    $$(idCurrTable).clearAll();\r\n    $$(idSearch).setValue(\"\");\r\n\r\n\r\n    if (titem == undefined) {\r\n        webix.ajax().get(\"/init/default/api/fields.json\").then(function (data) {\r\n            (0,_editTableForm_js__WEBPACK_IMPORTED_MODULE_1__.notify) (\"error\",\"Данные не найдены\");\r\n        });\r\n    } else {\r\n        let inpObj;\r\n        if (idCurrTable == _setId_js__WEBPACK_IMPORTED_MODULE_0__.tableIdView){\r\n            ($$(\"filterBar\").removeView( \"customInputs\" ));\r\n        }\r\n\r\n        webix.ajax().get(\"/init/default/api/fields.json\").then(function (data) {\r\n\r\n// ---- Таблица - данные cols           \r\n            data = data.json().content[idsParam];\r\n            let dataFields = data.fields;\r\n            let obj = Object.keys(data.fields);\r\n            let columnsData = [];\r\n\r\n            obj.forEach(function(data,i) {\r\n                if (dataFields[data].type == \"datetime\"){\r\n                    dataFields[data].format = webix.i18n.fullDateFormatStr;\r\n                }\r\n                dataFields[data].id = data;\r\n                dataFields[data].fillspace = true;\r\n                dataFields[data].header= dataFields[data][\"label\"];\r\n                if(dataFields[data].id == \"id\"){\r\n                    dataFields[data].hidden = true;\r\n                }\r\n                columnsData.push(dataFields[data]);\r\n            });\r\n\r\n            $$(idCurrTable).refreshColumns(columnsData);\r\n\r\n\r\n// ---- Таблица - проверить наличие actions у fields            \r\n\r\n            let idCol;\r\n            \r\n            columnsData.forEach(function(field,i){\r\n                if(field.type !== undefined && field.type == \"action\"){\r\n                    checkAction = true;\r\n                    idCol = i;\r\n                    urlFieldAction = data.actions[field.id].url;\r\n                    //console.log(data.actions[field.id].url)\r\n                    \r\n                }\r\n            });\r\n           \r\n             \r\n            // if (checkAction){\r\n            //     let columns = $$(idCurrTable).config.columns;\r\n            //     columns.splice(0,0,{ id:\"action-first\"+idCol, maxWidth:130, header:\"Подробнее\", template:\"<span class='webix_icon wxi-angle-down'></span> \"});\r\n            //     $$(idCurrTable).refreshColumns();\r\n            // }\r\n       \r\n\r\n\r\n // -----  Array с кастомными полями\r\n\r\n            let objInuts = Object.keys(data.inputs);\r\n            \r\n            let customInputs = [];\r\n            let idElements = [];\r\n\r\n            let dataInputsArray = data.inputs;\r\n\r\n\r\n            objInuts.forEach((el,i) => {\r\n                if (dataInputsArray[el].type == \"string\"){\r\n                    customInputs.push(\r\n                    {   view:\"text\",\r\n                        placeholder:dataInputsArray[el].label, \r\n                        id: \"customInputs\"+i,\r\n                        maxWidth:300,\r\n                        minWidth:150,\r\n                        height:48,\r\n                        //label:dataInputsArray[el].label, \r\n                        labelPosition:\"top\",\r\n                        on: {\r\n                            onAfterRender: function () {\r\n                                this.getInputNode().setAttribute(\"title\",dataInputsArray[el].comment);\r\n                             },\r\n                        }\r\n                    });\r\n                } else if (dataInputsArray[el].type == \"apiselect\") {\r\n\r\n                    let optionData = new webix.DataCollection({url:{\r\n                        $proxy:true,\r\n                        load: function(){\r\n                            return ( webix.ajax().get(\"/init/default/api/\"+dataInputsArray[el].apiname).then(function (data) {\r\n                                console.log(data.json())        \r\n                                let dataSrc = data.json().content;\r\n                                        \r\n                                        let dataOptions=[];\r\n                                        if (dataSrc[0].name !== undefined){\r\n                                            \r\n                                            dataSrc.forEach(function(data, i) {\r\n                                                console.log(data);\r\n                                                dataOptions.push( \r\n                                                    {id:i+1, value:data.name},\r\n                                                );\r\n                                            });\r\n                                           \r\n                                        } else {\r\n                                            dataSrc.forEach(function (data, i) {\r\n                                                dataOptions.push(\r\n                                                    { id: i + 1, value: data },\r\n                                                );\r\n                                            });\r\n\r\n                                        }\r\n                                       \r\n                                        return dataOptions;\r\n                                    })\r\n                                );\r\n                            \r\n                           \r\n                            \r\n                        }\r\n                    }});\r\n\r\n\r\n                    customInputs.push(\r\n                    { view:\"combo\",\r\n                    width:250,\r\n                    height:48,\r\n                    id: \"customCombo\"+i,\r\n                    //placeholder:\"Введите текст\",  \r\n                    //label:dataInputsArray[el].label,\r\n                    placeholder:dataInputsArray[el].label, \r\n                    labelPosition:\"top\", \r\n                    options:{\r\n                        data:optionData\r\n                      } ,\r\n                      on: {\r\n                        onAfterRender: function () {\r\n                            this.getInputNode().setAttribute(\"title\",dataInputsArray[el].comment);\r\n                         },\r\n                    }               \r\n                    });\r\n\r\n                } else if (dataInputsArray[el].type == \"submit\" || dataInputsArray[el].type == \"button\") {\r\n                    let actionType = dataInputsArray[el].action;\r\n                    let findAction = data.actions[actionType]; // сопоставить действие кнопки и ключ в actions\r\n\r\n                    if (findAction.verb == \"DELETE\" && actionType !== \"submit\"){\r\n                        let countCols = $$(idCurrTable).getColumns().length;\r\n                        let columns = $$(idCurrTable).config.columns;\r\n                        columns.splice(countCols,0,{ id:\"action\"+i, header:\"Действие\",maxWidth:100, template:\"{common.trashIcon()}\"});\r\n\r\n                        $$(idCurrTable).refreshColumns();\r\n                    } else if (findAction.verb == \"DELETE\") {\r\n                        customInputs.push(\r\n                            //{rows:[\r\n                                //{},\r\n                                {   view:\"button\", \r\n                                    id:\"customBtnDel\"+i,\r\n                                    css:\"webix_danger\", \r\n                                    type:\"icon\", \r\n                                    icon:\"wxi-trash\", \r\n                                    inputHeight:48,\r\n                                    height:48,\r\n                                    //height:48,\r\n                                    width:100,\r\n                                    value:dataInputsArray[el].label,\r\n                                    click:function (id) {\r\n                                        submitBtn(idElements,findAction.url,\"delete\");\r\n                                        console.log(\"delete\");  \r\n                                    },\r\n                                    on: {\r\n                                        onAfterRender: function () {\r\n                                            this.getInputNode().setAttribute(\"title\",dataInputsArray[el].comment);\r\n                                        },\r\n                                    },\r\n                                    \r\n                                    \r\n                                }, \r\n                                //{},\r\n                            //]}\r\n                        );\r\n                    } else {\r\n                        customInputs.push(\r\n                            //{rows:[\r\n                                //{},\r\n                                {   view:\"button\", \r\n                                    css:\"webix_primary\", \r\n                                    id:\"customBtn\"+i,\r\n                                    inputHeight:48,\r\n                                    height:48, \r\n                                    minWidth:100,\r\n                                    maxWidth:550,\r\n                                    value:dataInputsArray[el].label,\r\n                                    click:function (id) {\r\n                                        \r\n\r\n                                        if (findAction.verb== \"GET\"){\r\n                                            if ( findAction.rtype== \"refresh\") {\r\n                                                submitBtn(idElements,findAction.url, \"get\", \"refresh\");\r\n                                                console.log(\"get\");\r\n                                            } else if (findAction.rtype== \"download\") {\r\n                                                submitBtn(idElements,findAction.url, \"get\", \"download\");\r\n                                                console.log(\"get\");\r\n                                            }\r\n                                            \r\n\r\n                                        } else if (findAction.verb == \"POST\"){\r\n                                            submitBtn(idElements,findAction.url,\"post\");\r\n                                            console.log(\"post\");\r\n\r\n                                        } \r\n                                        // else if (findAction.verb == \"DELETE\"){\r\n                                        //     submitBtn(idElements,findAction.url,\"delete\");\r\n                                        //     console.log(\"delete\");\r\n\r\n                                        // } \r\n                                        else if (findAction.verb == \"download\"){\r\n                                            submitBtn(idElements,findAction.url, \"get\", \"download\",id);\r\n                                            console.log(\"download\");\r\n                                        }\r\n                                    \r\n                                        \r\n                                    },\r\n                                    on: {\r\n                                        onAfterRender: function () {\r\n                                            this.getInputNode().setAttribute(\"title\",dataInputsArray[el].comment);\r\n                                        },\r\n                                    },\r\n                                    \r\n                                    \r\n                                }, \r\n                                //{},\r\n                            //]}\r\n                        );\r\n                    }\r\n                } else if (dataInputsArray[el].type == \"upload\"){\r\n                    customInputs.push(\r\n                        {rows:[\r\n                            {},\r\n                            {   view: \"uploader\", \r\n                                value: \"Upload file\", \r\n                                id:\"customUploader\"+i, \r\n                                height:48,\r\n                                link:_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableIdView,  \r\n                                upload: data.actions.submit.url,\r\n                                label:dataInputsArray[el].label, \r\n                                labelPosition:\"top\",\r\n                                on: {\r\n                                    onAfterRender: function () {\r\n                                        this.getInputNode().setAttribute(\"title\",dataInputsArray[el].comment);\r\n                                    },\r\n                                    onFileUpload: function () {\r\n                                        (0,_editTableForm_js__WEBPACK_IMPORTED_MODULE_1__.notify) (\"success\",\"Файл успешно загружен\");\r\n                                    },\r\n                                    onFileUploadError: function () {\r\n                                        (0,_editTableForm_js__WEBPACK_IMPORTED_MODULE_1__.notify) (\"error\",\"Ошибка при загрузке файла\");\r\n                                    }\r\n                                }\r\n                            }\r\n                        ]}\r\n                    );\r\n                } else if (dataInputsArray[el].type == \"datetime\"){\r\n                    customInputs.push(\r\n                            {   view: \"datepicker\",\r\n                                format: webix.Date.strToDate(\"%d.%m.%Y\"),\r\n                                //placeholder:\"дд.мм.гг\",\r\n                                placeholder:dataInputsArray[el].label,  \r\n                                id:\"customDatepicker\"+i, \r\n                                timepicker: true,\r\n                                labelPosition:\"top\",\r\n                                width:300,\r\n                                minWidth:100,\r\n                                height:48,\r\n                                //label:dataInputsArray[el].label, \r\n                                on: {\r\n                                    onAfterRender: function () {\r\n                                        this.getInputNode().setAttribute(\"title\",dataInputsArray[el].comment);\r\n                                    },\r\n                                }\r\n                            }\r\n                    );\r\n                }else if (dataInputsArray[el].type == \"checkbox\"){\r\n                   \r\n                    customInputs.push(\r\n                            {   view:\"checkbox\", \r\n                                id:\"customСheckbox\"+i, \r\n                                css:\"webix_checkbox-style\",\r\n                                //labelPosition:\"top\",\r\n                                //labelWidth: \"auto\",\r\n                                labelRight:dataInputsArray[el].label, \r\n                                //label:dataInputsArray[el].label, \r\n                                on: {\r\n                                    onAfterRender: function () {\r\n                                        this.getInputNode().setAttribute(\"title\",dataInputsArray[el].comment);\r\n                                    },\r\n                                }\r\n                            }\r\n                    );\r\n\r\n                } \r\n            \r\n                if (dataInputsArray[el].type == \"checkbox\"){\r\n                   \r\n                }\r\n                customInputs.push({width:20});\r\n            });\r\n            \r\n          \r\n\r\n            customInputs.forEach((el,i) => {\r\n                \r\n                if (el.id !== undefined){\r\n                    if (el.view==\"text\"){\r\n                        idElements.push({id:el.id, name:\"substr\"});\r\n                    } \r\n                    else if (el.view==\"combo\") {\r\n                        idElements.push({id:el.id, name:\"valtype\"});\r\n                    } else if (el.view==\"uploader\"){\r\n                        idElements.push({id:el.id});\r\n                    } else if (el.view==\"datepicker\"){\r\n                        idElements.push({id:el.id});\r\n                    }\r\n                }\r\n\r\n            });\r\n           \r\n\r\n            inpObj = {id:\"customInputs\",css:\"webix_custom-inp\", cols:customInputs};\r\n            ($$(\"filterBar\").addView( inpObj,2));\r\n        });\r\n\r\n\r\n// ----- Таблица - получение данных rows\r\n\r\n        webix.ajax().get(\"/init/default/api/\"+itemTreeId).then(function (data){\r\n            data = data.json().content;\r\n\r\n            if (data.length !== 0){\r\n                $$(idCurrTable).hideOverlay(\"Ничего не найдено\");\r\n                $$(idCurrTable).parse(data);\r\n            } else {\r\n                $$(idCurrTable).showOverlay(\"Ничего не найдено\");\r\n            }\r\n\r\n            prevCountRows = $$(idCurrTable).count();\r\n            $$(idFindElem).setValues(prevCountRows.toString());\r\n        });\r\n    }\r\n    \r\n}\r\n\r\n\r\nfunction getInfoDashboard (){\r\n\r\n    if(!($$(\"dashboard-charts\"))){\r\n       \r\n        \r\n        \r\n        webix.ajax().get(\"/init/default/api/fields\").then(function (data){\r\n            let fields = data.json().content;\r\n            let inputsArray=[];\r\n            Object.values(fields) .forEach(function(el,i){\r\n                //console.log(el.type)\r\n                if (el.type == \"dashboard\"){\r\n                    //console.log(el.inputs)\r\n                    let inputs = el.inputs;\r\n                    Object.values(inputs).forEach(function(input,i){\r\n                        //console.log(input.type)\r\n                        if (input.type == \"datetime\"){\r\n                            inputsArray.push(\r\n                                    {   view: \"datepicker\",\r\n                                        format: webix.Date.strToDate(\"%d.%m.%Y\"),\r\n                                        placeholder:\"дд.мм.гг\",\r\n                                        //placeholder:dataInputsArray[el].label,  \r\n                                        id:\"dashDatepicker\"+i, \r\n                                        timepicker: true,\r\n                                        labelPosition:\"top\",\r\n                                        width:300,\r\n                                        minWidth:100,\r\n                                        height:48,\r\n                                        label:input.label, \r\n                                        on: {\r\n                                            onAfterRender: function () {\r\n                                                this.getInputNode().setAttribute(\"title\",input.comment);\r\n                                            },\r\n                                        }\r\n                                    }\r\n                            );\r\n                        } \r\n                        \r\n        \r\n                    });\r\n                }\r\n            });\r\n     \r\n            //console.log( inputsArray)\r\n\r\n\r\n\r\n            webix.ajax().get(\"/init/default/api/dash_sales\").then(function (data){\r\n\r\n                let dashLayout=[];\r\n                 \r\n               \r\n                dashLayout.push({rows:[{rows:inputsArray}]});\r\n                console.log(dashLayout[0].rows, \"das\")\r\n                let dataCharts = data.json().charts;\r\n                console.log(data.json())\r\n                let titleTemplate = {};\r\n                dataCharts.forEach(function(el,i){\r\n                    titleTemplate = el.title;\r\n                    delete el.title;\r\n                    el.borderless = true;\r\n                    el.minWidth = 300;\r\n                    dashLayout[0].rows.push({rows:[ {template:titleTemplate,borderless:true,css:{\"margin-top\":\"20px!important\", \"font-weight\":\"500!important\", \"font-size\":\"17px!important\"}, height:30},el]});\r\n    \r\n                });\r\n                $$(\"dashboardBody\").addView({view:\"scrollview\",id:\"dashboard-charts\",borderless:true,css:{\"margin\":\"20px!important\"},body: {view:\"flexlayout\",cols:dashLayout}},0);\r\n                $$(\"dashboardBody\").removeView($$(\"dashEmpty\"));\r\n             \r\n            });\r\n         \r\n        });\r\n\r\n\r\n       \r\n\r\n    }\r\n\r\n\r\n    \r\n}\r\n\r\n\r\nfunction headerSidebar () {\r\n    const headerLogo = {\r\n         view:\"label\",\r\n         label:\"<img src='/init/static/images/expalogo.png' style='height:30px; margin: 20px;'>\", \r\n         height:65\r\n    };\r\n    const collapseBtn = {   \r\n        view:\"button\",\r\n        type:\"icon\",\r\n        id:\"collapseBtn\",\r\n        icon:\"wxi-angle-double-left\",\r\n        css:\"webix_collapse\",\r\n        title:\"текст\",\r\n        height:30,\r\n        width:40,\r\n        click:function() {\r\n            \r\n            if ($$(\"tree\").isVisible()){\r\n                $$(\"collapseBtn\").config.icon =\"wxi-angle-double-right\";\r\n                $$(\"collapseBtn\").refresh();\r\n                $$(\"tree\").hide();\r\n                $$(\"sideMenu\").config.width = 55;\r\n\r\n                //$$(\"sideMenuHidden\").show();\r\n                if(window.innerWidth >= 800){\r\n                    $$(\"sideMenu\").addView({id:\"sideMenuHidden\"}, 3);\r\n                } \r\n                \r\n\r\n                if($$(\"sideMenuResizer\")){\r\n                    console.log(\"есть\")\r\n                    $$(\"sideMenuResizer\").hide();\r\n                }  else{\r\n                    console.log(\"ytn\")\r\n                }\r\n                \r\n            } else {\r\n                $$(\"tree\").show();\r\n                $$(\"collapseBtn\").config.icon =\"wxi-angle-double-left\";\r\n                $$(\"collapseBtn\").refresh();\r\n                $$(\"sideMenu\").config.width = 250;\r\n                //$$(\"sideMenuHidden\").hide();\r\n                if(window.innerWidth >= 800){\r\n                    $$(\"sideMenu\").removeView($$(\"sideMenuHidden\"));\r\n                    if($$(\"sideMenuResizer\")){\r\n                        $$(\"sideMenuResizer\").show();\r\n                    }\r\n                } \r\n              \r\n                \r\n            }\r\n            \r\n        },\r\n        on: {\r\n            onAfterRender: function () {\r\n                this.getInputNode().setAttribute(\"title\",\"Видимость бокового меню\");\r\n            }\r\n    } \r\n    };\r\n\r\n    return {cols:[collapseBtn,headerLogo]}\r\n}\r\n\r\nfunction treeSidebar () {\r\n    let tree = {\r\n        view:\"edittree\",\r\n        id:\"tree\",\r\n        minWidth:100,\r\n        width: 300,\r\n        //minHeight:150,\r\n        editable:false,\r\n        select:true,\r\n        editor:\"text\",\r\n        editValue:\"value\",\r\n        activeTitle:true,\r\n        clipboard: true,\r\n        data: webix.ajax().get(\"/init/default/api/fields.json\").then(function (data) {\r\n            let srcTree = data.json().content;\r\n            //console.log(data.json())\r\n            let obj = Object.keys(srcTree);\r\n            let actionsCheck;\r\n            //let dataTree = [];\r\n            let dataChilds = {tables:[], forms:[], dashboards:[]};\r\n            //let dataForms = {forms:[]};\r\n            \r\n            obj.forEach(function(data) {\r\n                if (srcTree[data].actions){\r\n                    actionsCheck = Object.keys(srcTree[data].actions)[0]; \r\n                } \r\n                if (srcTree[data].type == \"dbtable\"){\r\n                    if(srcTree[data].plural){\r\n                        dataChilds.tables.push({\"id\":data, \"value\":srcTree[data].plural, \"type\":srcTree[data].type}); \r\n                    } else if (srcTree[data].singular) {\r\n                        dataChilds.tables.push({\"id\":data, \"value\":srcTree[data].singular, \"type\":srcTree[data].type}); \r\n                    }\r\n                } else if (srcTree[data].type == \"tform\"){\r\n                    if(srcTree[data].plural){\r\n                        dataChilds.forms.push({\"id\":data, \"value\":srcTree[data].plural, \"type\":srcTree[data].type}); \r\n                    }else if (srcTree[data].singular) {\r\n                        dataChilds.forms.push({\"id\":data, \"value\":srcTree[data].singular, \"type\":srcTree[data].type}); \r\n\r\n                    }\r\n                }  else if (srcTree[data].type == \"dashboard\"){\r\n                    if(srcTree[data].plural){\r\n                        dataChilds.dashboards.push({\"id\":data, \"value\":srcTree[data].plural, \"type\":srcTree[data].type}); \r\n                    }else if (srcTree[data].singular) {\r\n                        dataChilds.dashboards.push({\"id\":data, \"value\":srcTree[data].singular, \"type\":srcTree[data].type}); \r\n\r\n                    }\r\n                }   \r\n            });\r\n\r\n\r\n            // dataTree.push( \r\n            //     {id:\"dashboardViewFolder\",  value:\"Партнёры\", data:jsonDashboard.treeHeadlines},\r\n            //     {id:\"tableEditFolder\", value:\"Таблицы\", data:dataChilds.tables},\r\n            //     {id:\"tableViewFolder\", value:\"Информация\", data:dataChilds.forms},\r\n            //     );\r\n            //return dataTree;\r\n            return webix.ajax().get(\"/init/default/api/mmenu.json\").then(function (data) {\r\n\r\n                let menu = data.json().mmenu;\r\n                let menuTree = [];\r\n                menu.forEach(function(el,i){\r\n                    if (el.title){\r\n                        menuTree.push({id:el.name, value:el.title, data:dataChilds[el.name]});\r\n                    } else {\r\n                        menuTree.push({id:el.name, value:\"Без названия\", data:dataChilds[el.name]});\r\n                    }\r\n                        \r\n                });\r\n\r\n                return menuTree;\r\n            });\r\n                \r\n            \r\n        }), \r\n         \r\n        \r\n        on:{\r\n            onSelectChange:function (ids) {\r\n               \r\n               \r\n                if($$(\"inputsTable\")){\r\n                    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).removeView($$(\"inputsTable\"));\r\n                }\r\n                \r\n                itemTreeId = ids[0];\r\n                let treeItemId = $$(\"tree\").getSelectedItem().id;\r\n                let getItemParent = $$(\"tree\").getParentId(treeItemId);\r\n\r\n                if (ids[0]&&getItemParent!==0){\r\n                    $$(\"webix__none-content\").hide();\r\n                }\r\n\r\n                if(getItemParent==\"tables\" ){\r\n                    $$(\"dashboards\").hide();\r\n                    $$(\"forms\").hide();\r\n                    $$(\"tables\").show();\r\n                }\r\n\r\n                if(getItemParent==\"dashboards\"){\r\n                   \r\n                    $$(\"tables\").hide();\r\n                    $$(\"forms\").hide();\r\n                    $$(\"dashboards\").show();\r\n                }\r\n\r\n                if(getItemParent==\"forms\"){\r\n                    if ($$(\"propTableView\") && $$(\"propTableView\").isVisible()){\r\n                        $$(\"propTableView\").hide();\r\n                    }\r\n                    $$(\"tables\").hide();\r\n                    $$(\"dashboards\").hide();\r\n                    $$(\"forms\").show();\r\n                }\r\n\r\n\r\n                if(getItemParent==\"tables\"){\r\n                   \r\n                    $$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.addBtnId).enable();\r\n                    (0,_editTableForm_js__WEBPACK_IMPORTED_MODULE_1__.defaultStateForm)();\r\n                    \r\n                    if(Object.keys($$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).elements).length!==0){\r\n                        $$(\"inputsTable\").hide();\r\n                    }\r\n\r\n                    getInfoTable (_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId, _setId_js__WEBPACK_IMPORTED_MODULE_0__.searchId, ids[0], _setId_js__WEBPACK_IMPORTED_MODULE_0__.findElementsId);\r\n\r\n                } else if(getItemParent==\"dashboards\") {\r\n                   getInfoDashboard ();\r\n\r\n                } else if(getItemParent==\"forms\") {\r\n                    getInfoTable (_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableIdView, _setId_js__WEBPACK_IMPORTED_MODULE_0__.searchIdView, ids[0], _setId_js__WEBPACK_IMPORTED_MODULE_0__.findElementsIdView);\r\n                }\r\n\r\n            },\r\n  \r\n\r\n            onBeforeSelect: function(data) {\r\n                \r\n                let getItemParent = $$(\"tree\").getParentId(data);\r\n                if(getItemParent==\"tables\"){\r\n                    if($$(_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).isDirty()){\r\n                        (0,_editTableForm_js__WEBPACK_IMPORTED_MODULE_1__.checkFormSaved)().then(function(result){\r\n                            if(result) {\r\n                                (0,_editTableForm_js__WEBPACK_IMPORTED_MODULE_1__.clearItem)();\r\n                                $$(\"tree\").select(data);\r\n                            } \r\n                        });\r\n                        return false;\r\n                    }\r\n                }\r\n            },\r\n\r\n            onBeforeRender:function() {\r\n                if(window.innerWidth <= 550){\r\n                    $$(\"sideMenuResizer\").hide();\r\n                } else {\r\n                    $$(\"sideMenuResizer\").show();\r\n                }\r\n               \r\n            }\r\n\r\n        },\r\n        \r\n\r\n    };\r\n\r\n    return tree;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://webix/./src/js/modules/sidebar.js?");

/***/ }),

/***/ "./src/js/modules/viewPropertyTable.js":
/*!*********************************************!*\
  !*** ./src/js/modules/viewPropertyTable.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"propertyTemplate\": () => (/* binding */ propertyTemplate)\n/* harmony export */ });\nfunction propertyTemplate (idProp){\r\n    return {\r\n        view:\"property\",  \r\n        id:idProp, \r\n        tooltip:\"Имя: #label#<br> Значение: #value#\",\r\n        width:350,\r\n        nameWidth:150,\r\n        editable:true,\r\n        scroll:true,\r\n        hidden:true,\r\n    };\r\n}\r\n\r\n\n\n//# sourceURL=webpack://webix/./src/js/modules/viewPropertyTable.js?");

/***/ }),

/***/ "./src/js/treeItems/dashboardView.js":
/*!*******************************************!*\
  !*** ./src/js/treeItems/dashboardView.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"dashboardLayout\": () => (/* binding */ dashboardLayout)\n/* harmony export */ });\nfunction dashboardLayout () {\r\n    \r\n    \r\n    return [\r\n\r\n        {id:\"dashboardBody\", cols:[\r\n            {id:\"dashEmpty\"}\r\n        ]}\r\n    ];\r\n}\r\n    \r\n\n\n//# sourceURL=webpack://webix/./src/js/treeItems/dashboardView.js?");

/***/ }),

/***/ "./src/js/treeItems/formTemplate.js":
/*!******************************************!*\
  !*** ./src/js/treeItems/formTemplate.js ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"form\": () => (/* binding */ form),\n/* harmony export */   \"jsonFormView\": () => (/* binding */ jsonFormView),\n/* harmony export */   \"elementsFormView\": () => (/* binding */ elementsFormView),\n/* harmony export */   \"jsonFormEdit\": () => (/* binding */ jsonFormEdit),\n/* harmony export */   \"elementsFormEdit\": () => (/* binding */ elementsFormEdit)\n/* harmony export */ });\nfunction form (idForm, formElements) {\r\n    return {\r\n        view:\"form\", \r\n        id:idForm,\r\n        container:\"webix__form-container\", \r\n        minHeight:350,\r\n        scroll:false,\r\n        elements:formElements,\r\n    };\r\n}\r\n\r\n\r\n\r\n//----- form view parameters\r\nlet jsonFormView = {\r\n    treeHeadlines :[\r\n        {\"id\": 'formTwo', \"value\": \"Информация 101\"}\r\n    ],\r\n};\r\n\r\nlet elementsFormView = [\r\n    {margin:15,\r\n        rows:[\r\n            { template:\"<h3>Информация №1</h3>\", css:\"webix_form-template\",borderless:true},\r\n            {   view:\"text\",\r\n                disabled:true,\r\n                text:\"Информация 1\",\r\n                placeholder:\"Введите ...\",  \r\n                label:\"Название\"    \r\n            },\r\n            {   view:\"text\",\r\n                disabled:true,\r\n                text:\"Информация 2\",\r\n                placeholder:\"Введите ...\",  \r\n                label:\"Название\"    \r\n            },\r\n            {}\r\n        ]},\r\n        {margin:15,\r\n            rows:[\r\n                { template:\"<h3>Информация №2</h3>\",css:\"webix_form-template\", borderless:true},\r\n                {   view:\"text\",\r\n                    disabled:true,\r\n                    text:\"Информация 1\",\r\n                    placeholder:\"Введите ...\",  \r\n                    label:\"Название\"    \r\n                },\r\n                {   view:\"text\",\r\n                    disabled:true,\r\n                    text:\"Информация 2\",\r\n                    placeholder:\"Введите ...\",  \r\n                    label:\"Название\"    \r\n                },\r\n                {   view:\"text\",\r\n                    disabled:true,\r\n                    text:\"Информация 3\",\r\n                    placeholder:\"Введите ...\",  \r\n                    label:\"Название\"    \r\n                },\r\n                {}\r\n        ]},\r\n];\r\n//----- form view parameters\r\n\r\n\r\n\r\n\r\n\r\n\r\n//----- form edit parameters\r\nlet jsonFormEdit = {\r\n    treeHeadlines :[\r\n        {\"id\": 'formOne', \"value\": \"Информация 1\"}\r\n    ],\r\n};\r\n\r\nlet elementsFormEdit = [\r\n    {margin:15,\r\n        rows:[\r\n            { template:\"<h3>Информация №1</h3>\", css:\"webix_form-template\",borderless:true},\r\n            {   view:\"text\",\r\n                placeholder:\"Введите ...\",  \r\n                label:\"Название\"    \r\n            },\r\n            {   view:\"text\",\r\n                placeholder:\"Введите ...\",  \r\n                label:\"Название\"    \r\n            },\r\n            { \r\n                view:\"button\", \r\n                value:\"Сохранить\", \r\n                height:48, \r\n                css:\"webix_primary\", \r\n                hotkey: \"enter\" \r\n            },\r\n            {}\r\n        ]},\r\n        {margin:15,\r\n            rows:[\r\n                { template:\"<h3>Информация №2</h3>\",css:\"webix_form-template\", borderless:true},\r\n                {   view:\"text\",\r\n                    text:\"Информация 1\",\r\n                    placeholder:\"Введите ...\",  \r\n                    label:\"Название\"    \r\n                },\r\n                {   view:\"text\",\r\n                    text:\"Информация 2\",\r\n                    placeholder:\"Введите ...\",  \r\n                    label:\"Название\"    \r\n                },\r\n                { \r\n                    view:\"button\", \r\n                    value:\"Сохранить\", \r\n                    height:48, \r\n                    css:\"webix_primary\", \r\n                    hotkey: \"enter\" ,\r\n                    disabled:true,\r\n                },\r\n                {}\r\n        ]},\r\n];\r\n//----- form edit parameters\r\n\r\n\r\n\n\n//# sourceURL=webpack://webix/./src/js/treeItems/formTemplate.js?");

/***/ }),

/***/ "./src/js/treeItems/tableTemplate.js":
/*!*******************************************!*\
  !*** ./src/js/treeItems/tableTemplate.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"tableToolbar\": () => (/* binding */ tableToolbar),\n/* harmony export */   \"table\": () => (/* binding */ table),\n/* harmony export */   \"onFuncTable\": () => (/* binding */ onFuncTable),\n/* harmony export */   \"onFuncTableView\": () => (/* binding */ onFuncTableView)\n/* harmony export */ });\n/* harmony import */ var _modules_setId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/setId.js */ \"./src/js/modules/setId.js\");\n/* harmony import */ var _modules_editTableForm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/editTableForm.js */ \"./src/js/modules/editTableForm.js\");\n/* harmony import */ var _modules_sidebar_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/sidebar.js */ \"./src/js/modules/sidebar.js\");\n\r\n\r\n\r\n\r\n// function accordionFilter () {\r\n//     const accordion = {\r\n//         css:\"webix_accordion-container\",\r\n//         view:\"accordion\",\r\n//         id:\"accordionFilterTable\",\r\n//         minHeight:100,\r\n//         type:\"line\",\r\n//         collapsed:true,\r\n//         rows:[ \r\n//         ]\r\n//     };\r\n//     return accordion;\r\n// }\r\n\r\nfunction tableToolbar (idPager, idSearch, idExport, idFindElements, idTable,visible=false) {\r\n    function exportToExcel(){\r\n        webix.toExcel(idTable, {\r\n          filename:\"Table\",\r\n          filterHTML:true,\r\n          styles:true\r\n        });\r\n        (0,_modules_editTableForm_js__WEBPACK_IMPORTED_MODULE_1__.notify) (\"success\",\"Таблица сохранена\");\r\n    }\r\n    return { \r\n\r\n       \r\n         id:\"adaptive-toolbar\",rows:[\r\n             \r\n        \r\n            \r\n             {id:\"filterBar\",responsive:\"adaptive-toolbar\", css:\"webix_filterBar\",padding:17, height: 80,margin:5, \r\n                \r\n                cols: [\r\n                {   view:\"search\", \r\n                    placeholder:\"Поиск\", \r\n                    id:idSearch,\r\n                    hidden:visible,\r\n                    css:\"searchTable\", \r\n                    maxWidth:250, \r\n                    minWidth:40, \r\n                    on: {\r\n                        onTimedKeyPress() {\r\n                            let text = this.getValue().toLowerCase();\r\n                            let table = $$(idTable);\r\n                            let columns = table.config.columns;\r\n                            let findElements = 0;\r\n                            table.filter(function(obj){\r\n                                for (let i=0; i<columns.length; i++)\r\n                                    if (obj[columns[i].id].toString().toLowerCase().indexOf(text) !== -1){\r\n                                        findElements++; \r\n                                        return true;\r\n                                    }\r\n                                return false;\r\n                            });\r\n                            if (!findElements){\r\n                                $$(idTable).showOverlay(\"Ничего не найдено\");\r\n                            } else if(findElements){\r\n                                $$(idTable).hideOverlay(\"Ничего не найдено\");\r\n                            }\r\n                            $$(idFindElements).setValues(findElements.toString());\r\n                            \r\n                        },\r\n                        onAfterRender: function () {\r\n                           this.getInputNode().setAttribute(\"title\",\"Поиск по таблице\");\r\n                        },\r\n                        \r\n                    }\r\n                },\r\n \r\n                {\r\n                    view:\"pager\",\r\n                    id:idPager,\r\n                    size:10,\r\n                    inputHeight:48,\r\n                    inputWidth:50,\r\n                    group:3,\r\n                    height:50,\r\n                    template:`{common.prev()} \r\n                {common.pages()} {common.next()}`\r\n                },\r\n\r\n                {   view:\"button\",\r\n                    width: 50, \r\n                    type:\"icon\",\r\n                    id:idExport,\r\n                    hidden:visible,\r\n                    icon:\"wxi-download\",\r\n                    css:\"webix_btn-download\",\r\n                    title:\"текст\",\r\n                    height:50,\r\n                    click:exportToExcel,\r\n                    on: {\r\n                        onAfterRender: function () {\r\n                            this.getInputNode().setAttribute(\"title\",\"Экспорт таблицы\");\r\n                        }\r\n                    } \r\n                },\r\n\r\n\r\n                ],\r\n            },\r\n            {   view:\"template\",\r\n                id:idFindElements,\r\n                css:\"webix_style-template-count\",\r\n                height:30,\r\n                template:function () {\r\n                    if (Object.keys($$(idFindElements).getValues()).length !==0){\r\n                        return \"<div style='color:#999898;'> Количество записей:\"+\" \"+$$(idFindElements).getValues()+\" </div>\";\r\n                    } else {\r\n                        return \"\";\r\n                    }\r\n                },\r\n            },\r\n            //accordionFilter()\r\n        ]\r\n\r\n        \r\n    };\r\n}\r\n\r\n\r\n\r\n\r\nfunction table (idTable, idPager, onFunc, srcData) {\r\n    return {\r\n        view:\"treetable\",\r\n        id: idTable,\r\n        css:\"webix_table-style webix_header_border webix_data_border\",\r\n        resizeColumn: true,\r\n        autoConfig: true,\r\n        pager:idPager,\r\n        minHeight:400,\r\n        footer: true,\r\n        minWidth:500, \r\n        select:true,\r\n        minColumnWidth:200,\r\n        on:onFunc,\r\n        onClick:{\r\n            \"wxi-trash\":function(){\r\n                (0,_modules_editTableForm_js__WEBPACK_IMPORTED_MODULE_1__.popupExec)(\"Запись будет удалена\").then(\r\n                    function(){\r\n                        let formValues = $$(idTable).getItem(id);\r\n                        webix.ajax().del(\"/init/default/api/\"+_modules_sidebar_js__WEBPACK_IMPORTED_MODULE_2__.itemTreeId+\"/\"+formValues.id+\".json\", formValues,{\r\n                            success:function(){\r\n                                $$(idTable).remove($$(idTable).getSelectedId());\r\n                                (0,_modules_editTableForm_js__WEBPACK_IMPORTED_MODULE_1__.notify) (\"success\",\"Данные успешно удалены\");\r\n                            },\r\n                            error:function(){\r\n                                (0,_modules_editTableForm_js__WEBPACK_IMPORTED_MODULE_1__.notify) (\"error\",\"Ошибка при удалении записи\");\r\n                            }\r\n                        });\r\n                });\r\n            },\r\n\r\n            // \"wxi-angle-down\":function(event, cell, target){\r\n            //     console.log(cell.row)\r\n            //     let id = cell.row;\r\n            //     getPopupInfo(urlFieldAction, cell.row);\r\n            //     $$(\"popupTable\").show( );\r\n            // },\r\n        }\r\n    };\r\n}\r\n\r\n\r\n\r\n\r\n\r\n//----- table edit parameters\r\nlet onFuncTable = {\r\n    onAfterSelect(id){\r\n      \r\n        let values = $$(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId).getItem(id); \r\n        function toEditForm () {\r\n            $$(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).setValues(values);\r\n            console.log(values);\r\n            $$(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.saveNewBtnId).hide();\r\n            $$(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.saveBtnId).show();\r\n            $$(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.addBtnId).hide(); \r\n            $$(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).clearValidation();\r\n        }\r\n        if($$(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).isDirty()){\r\n            (0,_modules_editTableForm_js__WEBPACK_IMPORTED_MODULE_1__.popupExec)(\"Данные не сохранены\").then(\r\n                function(){\r\n                    $$(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).clear();\r\n                    $$(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.delBtnId).enable();\r\n                    toEditForm();\r\n            }); \r\n        } else {\r\n            (0,_modules_editTableForm_js__WEBPACK_IMPORTED_MODULE_1__.createEditFields)();\r\n            toEditForm();\r\n        }   \r\n    },\r\n    onAfterLoad:function(){\r\n        $$(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.editFormId).removeView(\"inputsTable\");\r\n        (0,_modules_editTableForm_js__WEBPACK_IMPORTED_MODULE_1__.defaultStateForm) ();\r\n    },  \r\n    onAfterDelete: function() {\r\n        $$(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.findElementsId).setValues($$(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId).count().toString());\r\n        if (!this.count())\r\n            this.showOverlay(\"Ничего не найдено\");\r\n        if (this.count())\r\n            this.hideOverlay();\r\n    },\r\n    onAfterAdd: function() {\r\n        $$(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.findElementsId).setValues($$(_modules_setId_js__WEBPACK_IMPORTED_MODULE_0__.tableId).count().toString());\r\n        this.hideOverlay();\r\n    },\r\n \r\n};\r\n//----- table edit parameters\r\n\r\n\r\n\r\n\r\n\r\n//----- table view parameters\r\n\r\n\r\nlet onFuncTableView = {\r\n    onAfterSelect:function(id){\r\n        console.log(id);let idRow = \"D.200601.250131.ANY_HOST.000001\";\r\n        // --- поменять ссылку, достать id  curr row\r\n        webix.ajax(\"http://localhost:3000/init/default/api/lic/\"+idRow+\".json\",{\r\n            success:function(text, data, XmlHttpRequest){\r\n                console.log(data.json());\r\n                data = data.json().content;\r\n                let arrayProperty = [];\r\n                data.forEach(function(el,i){\r\n                    //console.log(el);\r\n                    arrayProperty.push({type:\"text\", id:i+1,label:el.name, value:el.value})\r\n                    \r\n                });\r\n                $$(\"propTableView\").define(\"elements\", arrayProperty);\r\n                $$(\"propTableView\").show();\r\n            },\r\n            // error:function(text, data, XmlHttpRequest){\r\n                \r\n            //     console.log(\"error\");\r\n            // }\r\n        });\r\n        \r\n    }\r\n    // onAfterDelete: function() {\r\n    //     $$(findElementsId).setValues($$(tableId).count().toString());\r\n    //     if (!this.count())\r\n    //         this.showOverlay(\"Ничего не найдено\");\r\n    //     if (this.count())\r\n    //         this.hideOverlay();\r\n    // },\r\n    // onAfterAdd: function() {\r\n    //     $$(findElementsId).setValues($$(tableId).count().toString());\r\n    //     this.hideOverlay();\r\n    // },\r\n  \r\n};\r\n\r\n//----- table view parameters\r\n\r\n\r\n\n\n//# sourceURL=webpack://webix/./src/js/treeItems/tableTemplate.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/app.js");
/******/ 	
/******/ })()
;